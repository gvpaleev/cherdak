{"ast":null,"code":"import _regeneratorRuntime from\"/home/admins/project/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/admins/project/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/admins/project/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect,useMemo}from'react';import Container from'react-bootstrap/Container';import Loader from'./scene/loader.js';import Scene0 from'./scene/scene0.js';import Scene1 from'./scene/scene1.js';import Scene2_Buy from'./scene/scene2_Buy';import Scene2_Sell from'./scene/scene2_Sell';import Scene3_not_cash from'./scene/scene3_not_cash.js';import Scene3_cash from'./scene/scene3_cash.js';//GlobalContext\nimport GlobalContext from'./context/GlobalContext.js';import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";function App(){console.log('Render APP');var _useState=useState(0),_useState2=_slicedToArray(_useState,2),scene=_useState2[0],setScene=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),typeRequest=_useState6[0],setTypeRequest=_useState6[1];sessionStorage.setItem('typeRequest',typeRequest);var globalContext={\"scene\":{scene:scene,setScene:setScene},\"typeRequest\":{typeRequest:typeRequest,setTypeRequest:setTypeRequest},\"loading\":{loading:loading,setLoading:setLoading}};//instal qurey\nuseMemo(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _yield$axios$get,assetFull,_yield$axios$get2,payTypeFull,_yield$axios$get3,networkFull;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log('useMemo App');_context.next=3;return axios.get('http://cherdak.fun/api/asset');case 3:_yield$axios$get=_context.sent;assetFull=_yield$axios$get.data;sessionStorage.setItem('assetFull',JSON.stringify(assetFull));_context.next=8;return axios.get('http://cherdak.fun/api/paytypes');case 8:_yield$axios$get2=_context.sent;payTypeFull=_yield$axios$get2.data;sessionStorage.setItem('payTypeFull',JSON.stringify(payTypeFull));_context.next=13;return axios.get('http://cherdak.fun/api/network/full');case 13:_yield$axios$get3=_context.sent;networkFull=_yield$axios$get3.data;sessionStorage.setItem('networkFull',JSON.stringify(networkFull));setLoading(false);case 17:case\"end\":return _context.stop();}}},_callee);})),[]);function getScene(){console.log('getScene');switch(globalContext.scene.scene){case 0:return/*#__PURE__*/_jsx(Scene0,{});case 1:return/*#__PURE__*/_jsx(Scene1,{});case 2:return typeRequest=='Buy'?/*#__PURE__*/_jsx(Scene2_Buy,{}):/*#__PURE__*/_jsx(Scene2_Sell,{});case 3:var flag_cash=Number(sessionStorage.getItem('is_cash'));return flag_cash?/*#__PURE__*/_jsx(Scene3_cash,{}):/*#__PURE__*/_jsx(Scene3_not_cash,{});}}return/*#__PURE__*/_jsx(GlobalContext.Provider,{value:globalContext,children:/*#__PURE__*/_jsx(Container,{style:{height:\"100vh\"},children:loading?/*#__PURE__*/_jsx(Loader,{}):getScene()})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","useMemo","Container","Loader","Scene0","Scene1","Scene2_Buy","Scene2_Sell","Scene3_not_cash","Scene3_cash","GlobalContext","axios","App","console","log","scene","setScene","loading","setLoading","typeRequest","setTypeRequest","sessionStorage","setItem","globalContext","get","assetFull","data","JSON","stringify","payTypeFull","networkFull","getScene","flag_cash","Number","getItem","height"],"sources":["/home/admins/project/client/src/App.js"],"sourcesContent":["import React,{useState,useEffect,useMemo} from 'react';\nimport Container from 'react-bootstrap/Container';\n\nimport Loader from './scene/loader.js'\nimport Scene0 from './scene/scene0.js'\nimport Scene1 from './scene/scene1.js'\nimport Scene2_Buy from './scene/scene2_Buy'\nimport Scene2_Sell from './scene/scene2_Sell'\nimport Scene3_not_cash from './scene/scene3_not_cash.js'\nimport Scene3_cash from './scene/scene3_cash.js'\n\n//GlobalContext\nimport GlobalContext from './context/GlobalContext.js'\n\n\nimport axios from \"axios\";\n\nfunction App() {\n  console.log('Render APP')\n  const [scene,setScene] = useState(0)\n\n  const [loading,setLoading] = useState(true)\n  \n  const [typeRequest,setTypeRequest] = useState()\n  sessionStorage.setItem('typeRequest',typeRequest)\n  \n\n \n  const globalContext={\n    \"scene\":{scene,setScene},\n    \"typeRequest\":{typeRequest,setTypeRequest},\n    \"loading\":{loading,setLoading},\n  }\n\n  //instal qurey\n  useMemo(async ()=>{\n    console.log('useMemo App')\n    let {data:assetFull} = await axios.get('http://cherdak.fun/api/asset')\n    sessionStorage.setItem('assetFull',JSON.stringify(assetFull))\n\n    let {data:payTypeFull} = await axios.get('http://cherdak.fun/api/paytypes')\n    sessionStorage.setItem('payTypeFull',JSON.stringify(payTypeFull)) \n   \n    let {data:networkFull} = await axios.get('http://cherdak.fun/api/network/full')\n    sessionStorage.setItem('networkFull',JSON.stringify(networkFull)) \n\n    setLoading(false)\n  },[])\n  \n  \n\n\n  \n  function getScene(){\n    console.log('getScene')\n      switch(globalContext.scene.scene){\n        case 0:\n          return <Scene0/>\n        case 1:\n          return  <Scene1/> \n        case 2:\n          return typeRequest == 'Buy' ?<Scene2_Buy/>:<Scene2_Sell/> \n        case 3:\n          let flag_cash = Number(sessionStorage.getItem('is_cash'))\n          return flag_cash?<Scene3_cash/>:<Scene3_not_cash/> \n      }\n    \n  }\n\n  return (\n        \n    \n\n\n    <GlobalContext.Provider value={globalContext}>\n    \n\n      <Container style={{height: \"100vh\"}}>\n        {loading?<Loader/>:getScene()}\n      </Container>\n    </GlobalContext.Provider>\n\n\n  );\n}\n\nexport default App;\n"],"mappings":"mWAAA,MAAOA,MAAP,EAAcC,QAAd,CAAuBC,SAAvB,CAAiCC,OAAjC,KAA+C,OAA/C,CACA,MAAOC,UAAP,KAAsB,2BAAtB,CAEA,MAAOC,OAAP,KAAmB,mBAAnB,CACA,MAAOC,OAAP,KAAmB,mBAAnB,CACA,MAAOC,OAAP,KAAmB,mBAAnB,CACA,MAAOC,WAAP,KAAuB,oBAAvB,CACA,MAAOC,YAAP,KAAwB,qBAAxB,CACA,MAAOC,gBAAP,KAA4B,4BAA5B,CACA,MAAOC,YAAP,KAAwB,wBAAxB,CAEA;AACA,MAAOC,cAAP,KAA0B,4BAA1B,CAGA,MAAOC,MAAP,KAAkB,OAAlB,C,2CAEA,QAASC,IAAT,EAAe,CACbC,OAAO,CAACC,GAAR,CAAY,YAAZ,EACA,cAAyBf,QAAQ,CAAC,CAAD,CAAjC,wCAAOgB,KAAP,eAAaC,QAAb,eAEA,eAA6BjB,QAAQ,CAAC,IAAD,CAArC,yCAAOkB,OAAP,eAAeC,UAAf,eAEA,eAAqCnB,QAAQ,EAA7C,yCAAOoB,WAAP,eAAmBC,cAAnB,eACAC,cAAc,CAACC,OAAf,CAAuB,aAAvB,CAAqCH,WAArC,EAIA,GAAMI,cAAa,CAAC,CAClB,QAAQ,CAACR,KAAK,CAALA,KAAD,CAAOC,QAAQ,CAARA,QAAP,CADU,CAElB,cAAc,CAACG,WAAW,CAAXA,WAAD,CAAaC,cAAc,CAAdA,cAAb,CAFI,CAGlB,UAAU,CAACH,OAAO,CAAPA,OAAD,CAASC,UAAU,CAAVA,UAAT,CAHQ,CAApB,CAMA;AACAjB,OAAO,wEAAC,gOACNY,OAAO,CAACC,GAAR,CAAY,aAAZ,EADM,sBAEuBH,MAAK,CAACa,GAAN,CAAU,8BAAV,CAFvB,uCAEIC,SAFJ,kBAEDC,IAFC,CAGNL,cAAc,CAACC,OAAf,CAAuB,WAAvB,CAAmCK,IAAI,CAACC,SAAL,CAAeH,SAAf,CAAnC,EAHM,sBAKyBd,MAAK,CAACa,GAAN,CAAU,iCAAV,CALzB,wCAKIK,WALJ,mBAKDH,IALC,CAMNL,cAAc,CAACC,OAAf,CAAuB,aAAvB,CAAqCK,IAAI,CAACC,SAAL,CAAeC,WAAf,CAArC,EANM,uBAQyBlB,MAAK,CAACa,GAAN,CAAU,qCAAV,CARzB,yCAQIM,WARJ,mBAQDJ,IARC,CASNL,cAAc,CAACC,OAAf,CAAuB,aAAvB,CAAqCK,IAAI,CAACC,SAAL,CAAeE,WAAf,CAArC,EAEAZ,UAAU,CAAC,KAAD,CAAV,CAXM,uDAAD,GAYL,EAZK,CAAP,CAkBA,QAASa,SAAT,EAAmB,CACjBlB,OAAO,CAACC,GAAR,CAAY,UAAZ,EACE,OAAOS,aAAa,CAACR,KAAd,CAAoBA,KAA3B,EACE,IAAK,EAAL,CACE,mBAAO,KAAC,MAAD,IAAP,CACF,IAAK,EAAL,CACE,mBAAQ,KAAC,MAAD,IAAR,CACF,IAAK,EAAL,CACE,MAAOI,YAAW,EAAI,KAAf,cAAsB,KAAC,UAAD,IAAtB,cAAoC,KAAC,WAAD,IAA3C,CACF,IAAK,EAAL,CACE,GAAIa,UAAS,CAAGC,MAAM,CAACZ,cAAc,CAACa,OAAf,CAAuB,SAAvB,CAAD,CAAtB,CACA,MAAOF,UAAS,cAAC,KAAC,WAAD,IAAD,cAAgB,KAAC,eAAD,IAAhC,CATJ,CAYH,CAED,mBAKE,KAAC,aAAD,CAAe,QAAf,EAAwB,KAAK,CAAET,aAA/B,uBAGE,KAAC,SAAD,EAAW,KAAK,CAAE,CAACY,MAAM,CAAE,OAAT,CAAlB,UACGlB,OAAO,cAAC,KAAC,MAAD,IAAD,CAAWc,QAAQ,EAD7B,EAHF,EALF,CAeD,CAED,cAAenB,IAAf"},"metadata":{},"sourceType":"module"}